# HAL库集成步骤（中文版）

## 快速开始（3步）

### 第1步：使用STM32CubeMX生成项目

1. **下载STM32CubeMX**
   - 访问：https://www.st.com/en/development-tools/stm32cubemx.html
   - 下载并安装（需要Java）

2. **创建项目**
   ```
   - 打开STM32CubeMX
   - 点击 "New Project"
   - 搜索 "STM32F108T6"
   - 选择MCU，点击 "Start Project"
   ```

3. **配置UART（3个）**
   ```
   UART1: 9600波特率（二维码扫描）
   UART2: 115200波特率（调试输出）
   UART3: 115200波特率（WiFi模块）
   ```

4. **生成代码**
   ```
   - Project Manager -> Project Settings
   - Toolchain/IDE: 选择 "Makefile"
   - 点击 "GENERATE CODE"
   - 记住项目保存路径
   ```

### 第2步：运行集成脚本

```bash
# 在终端中执行
cd /Users/zhenghongyu/Desktop/单片机OTA

# 运行脚本（替换为你的CubeMX项目路径）
./scripts/integrate_hal.sh ~/STM32CubeMX/STM32_OTA
```

### 第3步：验证集成

```bash
# 检查文件是否存在
ls HAL/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal.h

# 运行设置脚本
./scripts/setup_project.sh

# 如果安装了工具链，尝试编译
make clean
make all
```

## 详细说明

更多详细信息请查看：
- **HOW_TO_INTEGRATE.md** - 英文详细版
- **INTEGRATION_STEPS.md** - 集成步骤
- **BUILD_GUIDE.md** - 编译指南

## 需要帮助？

如果遇到问题：
1. 查看 HOW_TO_INTEGRATE.md 中的"常见问题"部分
2. 检查脚本输出信息
3. 确认CubeMX项目路径正确

